"use strict";(self["webpackChunkconference_booking"]=self["webpackChunkconference_booking"]||[]).push([[438],{4438:function(t,e,o){o.r(e),o.d(e,{default:function(){return U}});var r=o(3396),s=o(9242);const a={class:"container col-lg-6 shadow-lg rounded mt-5"},n=(0,r._)("div",{class:"py-4"},[(0,r._)("h3",{class:"text-center fw-bold"},"ແກ້ໄຂ")],-1),i={class:"my-4"},l=(0,r._)("label",{for:"imageInput"},"ເລືອກຮູບພາບ",-1),c={class:"mt-4"},d=(0,r._)("label",{for:""},"ຊື່ຫ້ອງ",-1),m={class:"mt-4"},u=(0,r._)("label",{for:""},"ສະຖານທີ່",-1),p={class:"mt-4"},h=(0,r._)("label",{for:""},"ລາຍລະອຽດ",-1),f={class:"mt-4 text-center"},_=(0,r._)("button",{class:"btn btn-danger col-lg-5 me-4"},"ຍົກເລີກ",-1),g=(0,r._)("button",{type:"submit",class:"btn btn-primary col-lg-5"},"ແກ້ໄຂຫ້ອງ",-1);function b(t,e,o,b,y,w){const v=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",a,[n,(0,r._)("form",{onSubmit:e[4]||(e[4]=(0,s.iM)(((...t)=>w.UpdateRoom&&w.UpdateRoom(...t)),["prevent"])),action:"",class:"mx-4 pb-5",enctype:"multipart/form-data"},[(0,r._)("div",i,[l,(0,r._)("input",{id:"imageInput",type:"file",ref:"imageInput",onChange:e[0]||(e[0]=(...t)=>w.handleImageChange&&w.handleImageChange(...t)),class:"form-control"},null,544)]),(0,r._)("div",c,[d,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>y.title_room=t),type:"text",class:"form-control"},null,512),[[s.nr,y.title_room]])]),(0,r._)("div",m,[u,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>y.address=t),type:"text",class:"form-control"},null,512),[[s.nr,y.address]])]),(0,r._)("div",p,[h,(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":e[3]||(e[3]=t=>y.description=t),type:"text",class:"form-control"},null,512),[[s.nr,y.description]])]),(0,r._)("div",f,[(0,r.Wm)(v,{to:"/rooms"},{default:(0,r.w5)((()=>[_])),_:1}),g])],32)])])}o(7658);var y=o(9674),w=o(2492),v=o.n(w),I={data(){return{title_room:"",address:"",description:"",selectedImage:null}},created(){this.roomId=this.$route.params.id,this.roomNumber=this.$route.params.roomNumber,this.fetchRoomData()},methods:{handleImageChange(t){this.selectedImage=t.target.files[0]},async fetchRoomData(){try{const t=await fetch(`${y.z}/rooms/${this.roomId}`),e=await t.json();this.title_room=e.title_room,this.address=e.address,this.description=e.description}catch(t){console.error("Error fetching booking data:",t)}},async UpdateRoom(){const t=new FormData;t.append("title_room",this.title_room),t.append("address",this.address),t.append("description",this.description),t.append("image",this.selectedImage);try{const e=await fetch(`${y.z}/rooms/update/${this.roomNumber}`,{method:"PUT",body:t});200===e.status?v().fire({title:"ແກ້ຫ້ອງສຳເລັດ",icon:"success",confirmButtonText:"ຕົກລົງ"}).then((()=>{this.$router.push({name:"rooms"})})):409===e.status?v().fire("ການແກ້ໄຂບໍ່ຖືກຕ້ອງ","","error"):v().fire("An error occurred","","error")}catch(e){console.error("Error:",e)}}}},k=o(89);const x=(0,k.Z)(I,[["render",b]]);var U=x}}]);
//# sourceMappingURL=438.112b276f.js.map